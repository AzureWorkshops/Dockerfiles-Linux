<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Download Dependencies - Docker Automation with Dockerfiles (Linux)</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="description" content="Azure Workshops" />
    <meta name="author" content="Joshua Davis">
    <link rel="icon" href="" type="image/x-icon">
    
    <!-- Font -->
    
    <!-- CSS -->
    <link href='../../themes/azure/css/vs.css' rel='stylesheet' type='text/css'><link href='../../themes/azure/css/theme.css' rel='stylesheet' type='text/css'><link href='../../themes/azure/css/theme-white.min.css' rel='stylesheet' type='text/css'>
</head>
<body class="">

        <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2 col-md-offset-1">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">Azure Workshops</a>
                    </div>
                </div>

                <div class="col-md-8">
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <!--
                            <li><a href="about.html">About</a></li>
                            <li><a href="contact.html">Contact</a></li>
                            -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

<div id="content-wrapper" class="container-fluid">
    <div class="row hidden-print">
        <div class="col-md-10 col-md-offset-1 breadcrumbs">
            <a href="../../index.html">Docker Automation with Dockerfiles (Linux)</a> / <a href="../../Courseware/Introduction.html">Courseware</a> / <a href="../../Courseware/CentOS/Create_Virtual_Machine.html">CentOS</a> / <a href="../../Courseware/CentOS/Download_Dependencies.html">Download Dependencies</a>        </div>
    </div>
    <div class="row">
        <div class="col-md-2 col-md-offset-1 hidden-print">
            <div data-spy="affix" data-offset-top="100">
                <!-- Navigation -->
                <ul class='Nav'><li class='Nav__item '><a href="../../Overview.html">Overview</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Getting Started</a><ul class='Nav'><li class='Nav__item '><a href="../../Getting_Started/Requirements.html">Requirements</a></li><li class='Nav__item '><a href="../../Getting_Started/Azure_Registration.html">Azure Registration</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Courseware</a><ul class='Nav'><li class='Nav__item '><a href="../../Courseware/Introduction.html">Introduction</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Ubuntu</a><ul class='Nav'><li class='Nav__item '><a href="../../Courseware/Ubuntu/Create_Virtual_Machine.html">Create Virtual Machine</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Install_Updates.html">Install Updates</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Install_Docker.html">Install Docker</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Install_Node.js.html">Install Node.js</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Download_Sample_Website.html">Download Sample Website</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Download_Dependencies.html">Download Dependencies</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Construct_Dockerfile.html">Construct Dockerfile</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Build_Image.html">Build Image</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Deploy_Container.html">Deploy Container</a></li><li class='Nav__item '><a href="../../Courseware/Ubuntu/Expose_Site_in_Azure.html">Expose Site in Azure</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>CentOS</a><ul class='Nav'><li class='Nav__item '><a href="../../Courseware/CentOS/Create_Virtual_Machine.html">Create Virtual Machine</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Install_Updates.html">Install Updates</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Install_Docker.html">Install Docker</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Install_Node.js.html">Install Node.js</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Download_Sample_Website.html">Download Sample Website</a></li><li class='Nav__item Nav__item--active'><a href="../../Courseware/CentOS/Download_Dependencies.html">Download Dependencies</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Construct_Dockerfile.html">Construct Dockerfile</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Build_Image.html">Build Image</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Deploy_Container.html">Deploy Container</a></li><li class='Nav__item '><a href="../../Courseware/CentOS/Expose_Site_in_Azure.html">Expose Site in Azure</a></li></ul></li></ul></li></ul>
                <div class="Links">
                    
                    <div class="pdf-link">
                        <hr />
                        <a href="../../pdf/Docker Automation with Dockerfiles (Linux).pdf"><i class="fa fa-file-pdf-o" aria-hidden="true"></i> <span>Download PDF</span></a>
                    </div>

                                            <hr/>
                        <div class="Twitter">
                                                            <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=azureworkshops&amp;show_count=false"></iframe>
                                <br />
                                <br />
                                                    </div>
                                    </div>
            </div>
        </div>
        <div class="col-md-6">
            <article class="Page">
    <div class="pageHeader">
        <h1>Download Dependencies</h1>
                    <div class="date"> Friday, August 4, 2017 4:52 PM</div>
            </div>
    <div class="copy">
        <h2 id="page_Overview">Overview</h2>
<p>Even though we've installed <em>system</em> dependencies, our website has a couple of library dependencies that we need to install.  We'll also ensure that the website is functioning correctly, before we proceed to build our Dockerfile.</p>
<h2 id="page_Download-Website-Dependencies">Download Website Dependencies</h2>
<p>We'll need to enter into the website's main folder to install the dependencies.</p>
<p>Type the following into the terminal:</p>
<pre><code class="language-bash">cd /var/www
sudo npm i
</code></pre>
<p>You should see a number of progress bars displayed as dependencies are downloaded followed by what looks like a folder hierarchy.</p>
<h2 id="page_Test-Our-Website">Test Our Website</h2>
<p>The first thing we need to do is run our web hosting server which is handled by Node.js. If we ran this normally from the command-line, it would block all other input.  We would then have to open a second terminal to test our website.  Instead, we're going to run our web server in the background as a detached process.</p>
<p>At the terminal prompt, type:</p>
<pre><code>sudo node index.js &amp;
</code></pre>
<p><strong>NOTE:</strong> The ampersand at the end of the line instructs the system to run the preceeding command in the background.  When we construct our Dockerfile, we will omit the ampersand so that the process runs in the foreground and creates a long-running process that keeps our container 'alive'.</p>
<p>When you run this command, a number is outputted to the screen. This number refers to a <em>process id</em> (pid). Keep this number handy as we'll use it below to 'kill' the background process.</p>
<p>Additionally, you should see a message stating that our 'server is listening on 8080'.</p>
<p>Test that the web server is returning our site by typing the following:</p>
<pre><code class="language-bash">curl http://localhost:8080/
</code></pre>
<p>If all is successful, you should receive some HTML source code back.</p>
<h4 id="page_Stop-the-Background-Process">Stop the Background Process</h4>
<p>We don't need the website running any longer now that we know it works.  Additionally, if we kept it running, it's use of the port 8080 could create potential conflicts if another service (e.g. container) is needing that port.</p>
<p>Referring to the process id (pid) above, execute the following command with your id:</p>
<pre><code class="language-bash">sudo kill &lt;pid&gt;
</code></pre>
<p>If successful, you should see the following confirmation message:</p>
<pre><code class="language-bash">[1]+  Exit 143                  sudo node index.js
</code></pre>
<p>Building our web server has been successful. We are now ready to move forward and replicate our work in building out an image.</p>
    </div>

            <nav class="hidden-print">
            <ul class="pager">
                                    <li class=pager-prev><a href="../../Courseware/CentOS/Download_Sample_Website.html">Previous</a></li>
                                                    <li class=pager-next><a href="../../Courseware/CentOS/Construct_Dockerfile.html">Next</a></li>            </ul>
        </nav>
    </article>
        </div>
        <div class="col-md-2 hidden-print">
            <div class="article-links" data-spy="affix" data-offset-top="100">
                <strong>In this article</strong><ol><li><a href="#page_Overview">Overview</a></li><li><a href="#page_Download-Website-Dependencies">Download Website Dependencies</a></li><li><a href="#page_Test-Our-Website">Test Our Website</a></li></ol>
            </div>
        </div>
    </div>
</div>

    <div id="footer" class="container-fluid hidden-print">
        <div class="row">
            <div class="col-md-2 col-md-offset-1">
            
            </div>
            <div class="col-md-8" style="text-align:right;">
            This work is licensed under a Creative Commons Attribution 4.0 International License.
            </div>
        </div>
    </div>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- JS -->
    
    <script src="../../themes/azure/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="../../themes/azure/js/theme.js"></script>

</body>
</html>
